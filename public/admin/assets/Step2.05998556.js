var R=Object.defineProperty,b=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var v=(s,e,t)=>e in s?R(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,B=(s,e)=>{for(var t in e||(e={}))V.call(e,t)&&v(s,t,e[t]);if(g)for(var t of g(e))D.call(e,t)&&v(s,t,e[t]);return s},h=(s,e)=>b(s,I(e));var y=(s,e,t)=>new Promise((a,o)=>{var u=n=>{try{l(t.next(n))}catch(r){o(r)}},f=n=>{try{l(t.throw(n))}catch(r){o(r)}},l=n=>n.done?a(n.value):Promise.resolve(n.value).then(u,f);l((t=t.apply(s,e)).next())});import{u as E}from"./plugin_templates.cbfde69e.js";import{u as N,B as P}from"./useForm.4e5e4198.js";import{a as j}from"./columns.0f5b273f.js";import{_ as A,d as T,r as F,u as G,af as J,a2 as M,s as O,e as W,f as q,h as c,w as p,i as x,F as z,j as w,bb as H,l as K,D as L}from"./index.b843bef0.js";import"./DownOutlined.a65bfecb.js";import"./list.724f521a.js";const Q=w("\u5B8C\u6210\u5B89\u88C5"),U=w("\u91CD\u65B0\u5B89\u88C5"),X=T({__name:"Step2",props:{plugin:null},emits:["nextStep","prevStep","reInstall"],setup(s,{emit:e}){const{plugin:t}=s,a=F(!1),o=G(),u=F(null),[f,{getFieldsValue:l,setFieldsValue:n}]=N({gridProps:{cols:"1",collapsedRows:100},labelWidth:150,schemas:j,showAdvancedButton:!1,showActionButtonGroup:!1});J(()=>t,_=>{M(()=>{n(O(h(B({},_.value),{config:JSON.stringify(_.value.config,null,4)})))})},{deep:!0,immediate:!0});function r(_){_.preventDefault(),a.value=!0;try{u.value.formElRef.validate(m=>y(this,null,function*(){const i=l();console.log(i),console.log(u.value),m?o.error("\u8BF7\u586B\u5199\u5B8C\u6574\u4FE1\u606F"):(yield E(i),o.success("\u66F4\u65B0\u6210\u529F"),C())}))}finally{a.value=!1}}function C(){e("nextStep")}function S(){e("reInstall")}return(_,m)=>{const i=H,d=K,k=L;return W(),q(z,null,[c(i,{show:a.value,class:"mt-12"},{default:p(()=>[c(x(P),{ref_key:"formRef",ref:u,onRegister:x(f)},null,8,["onRegister"])]),_:1},8,["show"]),c(k,{justify:"center"},{default:p(()=>[c(d,{loading:a.value,type:"primary",onClick:r},{default:p(()=>[Q]),_:1},8,["loading"]),c(d,{onClick:S},{default:p(()=>[U]),_:1})]),_:1})],64)}}});var ae=A(X,[["__scopeId","data-v-5d266a0b"]]);export{ae as default};
