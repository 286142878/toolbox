var M=Object.defineProperty,X=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var _=(t,e,o)=>e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,S=(t,e)=>{for(var o in e||(e={}))L.call(e,o)&&_(t,o,e[o]);if(w)for(var o of w(e))P.call(e,o)&&_(t,o,e[o]);return t},Y=(t,e)=>X(t,v(e));import{E as B,r as C,af as H,aV as I,aY as T,i as W}from"./index.b843bef0.js";import{a as E}from"./index.esm.39384bc5.js";const O=Y(S({},B.props),{subBtuText:{type:String,default:"\u786E\u8BA4"},showIcon:{type:Boolean,default:!1},width:{type:Number,default:446},title:{type:String,default:""},maskClosable:{type:Boolean,default:!1},preset:{type:String,default:"dialog"}}),f=function(t,e){var o;return t.currentStyle?t.currentStyle[e]:(o=document.defaultView)==null?void 0:o.getComputedStyle(t,null)[e]},s={left:0,top:0,currentX:0,currentY:0,flag:!1},R=function(t,e,o){const i=document.body.clientWidth,d=document.documentElement.clientHeight,m=e.offsetWidth,n=e.offsetHeight,l=e.offsetLeft,p=e.offsetTop,y=i-l-m,g=d-p-n;f(e,"left")!=="auto"&&(s.left=f(e,"left")),f(e,"top")!=="auto"&&(s.top=f(e,"top")),t.onmousedown=function(u){s.flag=!0,u||(u=window.event,t.onselectstart=function(){return!1});const a=u;s.currentX=a.clientX,s.currentY=a.clientY},document.onmouseup=function(){s.flag=!1,f(e,"left")!=="auto"&&(s.left=f(e,"left")),f(e,"top")!=="auto"&&(s.top=f(e,"top"))},document.onmousemove=function(u){const a=u||window.event;if(s.flag){const b=a.clientX,x=a.clientY,D=b-s.currentX,h=x-s.currentY;let c=parseInt(s.left)+D,r=parseInt(s.top)+h;return-c>l?c=-l:c>y&&(c=y),-r>p?r=-p:r>g&&(r=g),e.style.left=c+"px",e.style.top=r+"px",typeof o=="function"&&o((parseInt(s.left)||0)+D,(parseInt(s.top)||0)+h),u.preventDefault&&u.preventDefault(),!1}}};function U(t){const e=C(null),o=T(),i=()=>{const n=W(e.value);return n||console.error("useModal instance is undefined!"),n};return[n=>{E(()=>{e.value=null}),e.value=n,o==null||o.emit("register",n),H(()=>t,()=>{t&&n.setProps(I(t))},{immediate:!0,deep:!0})},{setProps:n=>{var l;(l=i())==null||l.setProps(n)},openModal:()=>{var n;(n=i())==null||n.openModal()},closeModal:()=>{var n;(n=i())==null||n.closeModal()},setSubLoading:n=>{var l;(l=i())==null||l.setSubLoading(n)}}]}export{O as b,R as s,U as u};
